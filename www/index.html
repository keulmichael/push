<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="Cache-control" content="no-cache" />
<meta http-equiv="Pragma" content="no-cache" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<title> Des moments Ã  partager avec SeeIt! </title>

<script src="cordova.js"></script>
<script src="PushNotification.js"></script>

<script type="text/javascript">
document.addEventListener('deviceready', doOnOrientationChange);
function doOnOrientationChange()
  {alert('deviceready');
    
    var pushNotification = window.plugins.pushNotification;
pushNotification.register(
    successHandler, 
    errorHandler, 
    {
      'senderID':'651586884852',
        'ecb':'onNotificationGCM' // callback function
    }
);
    
    function successHandler(result) {
    alert('Success: '+ result);
}
function errorHandler(error) {
    alert('Error: '+ error);
}
  
    
  function onNotificationGCM(e) {
    switch(e.event){
        case 'registered':
            if (e.regid.length > 0){
                deviceRegistered(e.regid);
            }
        break;

        case 'message':
            if (e.foreground){
            	// When the app is running foreground. 
                alert('The room temperature is set too high')
            }
        break;

        case 'error':
            console.log('Error: ' + e.msg);
        break;

        default:
          console.log('An unknown event was received');
          break;
    }
}  
    
    
  }
</script>
</head>
<body>


</body>
</html>
